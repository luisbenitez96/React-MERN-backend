<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <title>CalendarApp</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />

    <!-- Cargar React desde CDN para asegurar disponibilidad global -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <script
      type="module"
      crossorigin
      src="./assets/index-DteBn_nr.js?v=5"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-DUDXlw95.css?v=5" />
  </head>
  <body>
    <div id="root">
      <div style="padding: 20px; text-align: center">
        <h2>Cargando CalendarApp...</h2>
        <p>
          Si ves este mensaje por m√°s de 5 segundos, hay un problema con la
          inicializaci√≥n.
        </p>
        <div
          id="debug-info"
          style="
            margin-top: 20px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
          ">
          <p><strong>Debug:</strong> Verificando carga de archivos...</p>
        </div>
      </div>
    </div>

    <script>
      // Debugging y verificaci√≥n de React
      console.log("üöÄ Iniciando CalendarApp...");

      // Verificar carga de archivos
      const debugInfo = document.getElementById("debug-info");

      // Verificar que React est√© disponible
      if (typeof React !== "undefined") {
        console.log("‚úÖ React disponible, versi√≥n:", React.version);
        debugInfo.innerHTML += "<p>‚úÖ React cargado correctamente</p>";
      } else {
        console.error("‚ùå React no disponible");
        debugInfo.innerHTML += "<p>‚ùå React no disponible</p>";
      }

      if (typeof ReactDOM !== "undefined") {
        console.log("‚úÖ ReactDOM disponible, versi√≥n:", ReactDOM.version);
        debugInfo.innerHTML += "<p>‚úÖ ReactDOM cargado correctamente</p>";
      } else {
        console.error("‚ùå ReactDOM no disponible");
        debugInfo.innerHTML += "<p>‚ùå ReactDOM no disponible</p>";
      }

      // Verificar despu√©s de 3 segundos si la aplicaci√≥n se inicializ√≥
      setTimeout(() => {
        const rootElement = document.getElementById("root");
        console.log("üîç Estado del elemento root:", rootElement.innerHTML);

        // Si el contenido no cambi√≥, intentar inicializar manualmente
        if (rootElement.innerHTML.includes("Cargando CalendarApp")) {
          console.log(
            "‚ö†Ô∏è La aplicaci√≥n no se inicializ√≥ autom√°ticamente, intentando manualmente..."
          );
          debugInfo.innerHTML +=
            "<p>‚ö†Ô∏è Intentando inicializaci√≥n manual...</p>";
          tryManualInit();
        } else {
          debugInfo.innerHTML +=
            "<p>‚úÖ Aplicaci√≥n inicializada autom√°ticamente</p>";
        }
      }, 3000);

      function tryManualInit() {
        console.log("üîÑ Intentando inicializaci√≥n manual...");
        try {
          const rootElement = document.getElementById("root");
          if (ReactDOM.createRoot) {
            const root = ReactDOM.createRoot(rootElement);
            const element = React.createElement(
              "div",
              {
                style: {
                  padding: "20px",
                  textAlign: "center",
                  backgroundColor: "#f8f9fa",
                  borderRadius: "8px",
                  margin: "20px",
                },
              },
              [
                React.createElement(
                  "h2",
                  { key: "title" },
                  "¬°CalendarApp Cargado!"
                ),
                React.createElement(
                  "p",
                  { key: "message" },
                  "La aplicaci√≥n se ha inicializado correctamente."
                ),
                React.createElement(
                  "button",
                  {
                    key: "reload",
                    onClick: () => window.location.reload(),
                    style: {
                      padding: "10px 20px",
                      backgroundColor: "#007bff",
                      color: "white",
                      border: "none",
                      borderRadius: "4px",
                      cursor: "pointer",
                    },
                  },
                  "Recargar P√°gina"
                ),
              ]
            );
            root.render(element);
            console.log("‚úÖ React inicializado manualmente");
            debugInfo.innerHTML += "<p>‚úÖ React inicializado manualmente</p>";
          }
        } catch (error) {
          console.error("‚ùå Error en inicializaci√≥n manual:", error);
          debugInfo.innerHTML +=
            "<p>‚ùå Error en inicializaci√≥n: " + error.message + "</p>";
        }
      }

      // Deshabilitar service worker temporalmente para debugging
      console.log("üîß Service worker deshabilitado para debugging");

      // const isProduction = "production" === "production";
      // if (isProduction && "serviceWorker" in navigator) {
      //   navigator.serviceWorker.register("./sw.js");
      // }
    </script>
  </body>
</html>
